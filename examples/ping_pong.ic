ping ::= scope {
  self ::= block {
    before ::= (s: *int) => self
    after ::= (s: *int) => pong
  }

  pong ::= block {
    before ::= (s: *int) => pong
    after ::= (s: *int) => self
  }
}

main ::= () -> () {
  ping {
    print "sending..."
  } pong {
    print "received!\n"
  }
}
