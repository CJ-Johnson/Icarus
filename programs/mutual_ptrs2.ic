foo := type {
  x: &bar
}

bar := type {
  y: &foo
}

main := void -> void {
  f: foo
  b: bar
  f.x = &b
  b.y = &f
  print f.x.y.x.y.x
  print '\n'

  a1: foo1
  a2: foo2
  a3: foo3
  a1.x = &a2
  a2.x = &a3
  a3.x = &a1
  print a1.x.x.x.x.x.x.x.x.x.x.x
  print '\n'
  print a1.x.x.x.x.x.x.x.x.x.x.x.x
  print '\n'
  print a1.x.x.x.x.x.x.x.x.x.x.x.x.x
  print '\n'
}

foo1 := type {
  x : &foo2
}

foo2 := type {
  x : &foo3
}

foo3 := type {
  x : &foo1
}



