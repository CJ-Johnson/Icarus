main := void -> void {
  enum_test()
  int_test()
  uint_test()
  real_test()
}

E := enum {
  A
  B
  C
}

enum_test := void -> void {
  ae := void -> E {
    print 'a'
    return E.A
  }
  be := void -> E {
    print 'b'
    return E.B
  }
  ce := void -> E {
    print 'c'
    return E.C
  }

  print E.A == E.A == E.A
  print '\n'
  print E.A == E.B == ae()
  print '\n'
  print ae() == ae() != be()
  print '\n'
  print ae() == be() == ce()
  print '\n'
  print ae() != be() != ce()
  print '\n'
}

real_test := void -> void {
  a := void -> real {
    print 'a'
    return 1.0
  }
  b := void -> real {
    print 'b'
    return 2.0
  }
  c := void -> real {
    print 'c'
    return 3.0
  }
  print a() < b() < c()
  print '\n'
  print a() > b() < c()
  print '\n'
  print a() < b() == c()
  print '\n'
}


uint_test := void -> void {
  au := void -> uint {
    print 'a'
    return 1u
  }
  bu := void -> uint {
    print 'b'
    return 2u
  }
  cu := void -> uint {
    print 'c'
    return 3u
  }
  print au() < bu() < cu()
  print '\n'
  print au() > bu() < cu()
  print '\n'
  print au() < bu() == cu()
  print '\n'
}

int_test := void -> void {
  ai := void -> int {
    print 'a'
    return 1
  }
  bi := void -> int {
    print 'b'
    return 2
  }
  ci := void -> int {
    print 'c'
    return 3
  }
  print ai() < bi() < ci()
  print '\n'
  print ai() > bi() < ci()
  print '\n'
  print ai() < bi() == ci()
  print '\n'
}


